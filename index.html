<html>
    <head>
        <title>Network Supervision</title>
        <style>
            body {
                margin: 0;
            }

            canvas {
                width: 100%;
                height: 100%
            }
        </style>

        <script src="lib/three.js"></script>
        <script src="lib/loaders/OBJLoader.js"></script>
        <script src="lib/controls/OrbitControls.js"></script>

        <script src="builder.js"></script>
        <script src="threeScene.js"></script>
    </head>
    <body>
        <div id="threeContainer">

        </div>
        <script type="text/javascript">
            var config = {
                devices: [
                    {
                        name: "firewall",
                        type: "firewall",
                        networks: [
                            {
                                name: "192.168.1.0/24",
                                gateway: "192.168.0.254",
                                devices: [
                                    {
                                        name: "test pc 1",
                                        type: 'workstation',
                                        ip: "192.168.1.12"
                                    },
                                    {
                                        name: "test pc 2",
                                        type: 'workstation',
                                        ip: "192.168.1.13"
                                    },
                                    {
                                        name: "test serveur",
                                        type: 'server',
                                        ip: "192.168.1.1"
                                    },
                                    {
                                        name: "test pc 1",
                                        type: 'workstation',
                                        ip: "192.168.1.12"
                                    },
                                    {
                                        name: "test pc 2",
                                        type: 'workstation',
                                        ip: "192.168.1.13"
                                    },
                                    {
                                        name: "test serveur",
                                        type: 'server',
                                        ip: "192.168.1.1"
                                    }
                                ]
                            },
                            {
                                name: "192.168.1.0/24",
                                gateway: "192.168.0.254",
                                devices: [
                                    {
                                        name: "test pc 1",
                                        type: 'workstation',
                                        ip: "192.168.1.12"
                                    },
                                    {
                                        name: "test pc 2",
                                        type: 'workstation',
                                        ip: "192.168.1.13"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        name: "firewall",
                        type: "firewall",
                        networks: [
                            {
                                name: "192.168.1.0/24",
                                gateway: "192.168.0.254",
                                devices: [
                                    {
                                        name: "test pc 1",
                                        type: 'workstation',
                                        ip: "192.168.1.12"
                                    },
                                    {
                                        name: "test pc 2",
                                        type: 'workstation',
                                        ip: "192.168.1.13"
                                    },
                                    {
                                        name: "test serveur",
                                        type: 'server',
                                        ip: "192.168.1.1"
                                    },
                                    {
                                        name: "test pc 1",
                                        type: 'workstation',
                                        ip: "192.168.1.12"
                                    },
                                    {
                                        name: "test pc 2",
                                        type: 'workstation',
                                        ip: "192.168.1.13"
                                    },
                                    {
                                        name: "test serveur",
                                        type: 'server',
                                        ip: "192.168.1.1"
                                    },
                                    {
                                        name: "test pc 1",
                                        type: 'workstation',
                                        ip: "192.168.1.12"
                                    },
                                    {
                                        name: "test pc 2",
                                        type: 'workstation',
                                        ip: "192.168.1.13"
                                    },
                                                                        {
                                        name: "test pc 2",
                                        type: 'workstation',
                                        ip: "192.168.1.13"
                                    },
                                    {
                                        name: "test serveur",
                                        type: 'server',
                                        ip: "192.168.1.1"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            };
            var scene = initScene('threeContainer');
            var internet = new MapItem('cloud');
            scene.add(internet.threeObj);
            /*var firewall = new MapItem('firewall');
            internet.add(firewall);
            var _switch = new MapItem('switch');
            firewall.add(_switch);
            _switch.add((new MapItem('poste')));
            _switch.add((new MapItem('poste')));
            _switch.add((new MapItem('poste')));
            _switch.add((new MapItem('server')));
            _switch.add((new MapItem('poste')));
            _switch.add((new MapItem('poste')));
            _switch.add((new MapItem('poste')));
            _switch.add((new MapItem('server')));*/

            buildFromConfig(config,internet);
            internet.compute();
            scene.updateMatrixWorld();
            centerCamera(internet);

            /*var items = {};
            items['0'] = new MapItem(null,'cloud',scene);
            items['10.10.10.10'] = new MapItem({x:-3.575,y:-1,z:10},'firewall',scene);
            items['0-10.10.10.10a'] = new MapItem({x:1,y:0,z:10},'link',scene);
            items['0-10.10.10.10b'] = new MapItem({x:-1,y:0,z:10},'link',scene);
            items['10.10.10.1'] = new MapItem({x:0,y:0,z:20},'switch',scene);
            items['10.10.10.2'] = new MapItem({x:0,y:0,z:30},'poste',scene);
            items['10.10.10.3'] = new MapItem({x:5,y:0,z:30},'server',scene);*/
        </script>
    </body>
</html>